var e=Promise.withResolvers.bind(Promise);const{join:t}=Array.prototype,{parse:n}=JSON,[s,a]=((t=e=>e)=>{const n=new Map;let s=0;return[()=>{let a;do{a=t(s++)}while(n.has(a));const o=e();return n.set(a,o),[a,o.promise]},(e,t,s)=>{const a=n.get(e);n.delete(e),s?a?.reject(s):a?.resolve(t)}]})(),o=new BroadcastChannel("dd78209b-186c-4f83-80e9-406becb7d9f3");o.onmessage=e=>a.apply(null,e.data);const r=`${location.href}?sabayon`;var i=Object.freeze({__proto__:null,activate:e=>e.waitUntil(clients.claim()),fetch:async e=>{const{request:a}=e;if("POST"===a.method&&a.url===r){e.stopImmediatePropagation(),e.preventDefault();const[r,i]=s(),l=e=>new Response(`[${t.call(e,",")}]`,a.headers);e.respondWith(i.then(l,l));const[c,p]=n(await a.text());o.postMessage([r,c,p])}},install:()=>skipWaiting()});for(const e in i)addEventListener(e,i[e]);
